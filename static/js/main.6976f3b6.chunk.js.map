{"version":3,"sources":["hocs/MainAppHOC.tsx","reportWebVitals.ts","api/weather.api.ts","store/weather.reducer.ts","store/store.ts","assets/MorningRain.gif","assets/NightRain.gif","assets/Rain1.gif","assets/Fog.gif","assets/Fog1.gif","assets/Fog2.gif","utils/gifs.ts","assets/Snow.gif","assets/Snow2.gif","assets/Snow3.gif","assets/Cloudy.gif","assets/ClearSky.gif","components/SearchForm.tsx","store/weather.selectors.ts","components/main.tsx","index.tsx"],"names":["Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","apiKey","API","GetWeatherByCity","city","a","axios","get","GetWeatherByPos","lat","lon","initialState","weather","error","actions","type","msg","reducers","combineReducers","state","action","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","GIFs","fog","Fog","Fog1","Fog2","rain","Rain","morningRain","nightRain","snow","mist","clouds","clear","SearchForm","props","initialValues","cityName","onSubmit","values","setSubmitting","submitForm","isSubmitting","className","name","placeholder","Button","disabled","getWeather","getError","MainAppHOC","dispatch","useDispatch","useSelector","useState","initialized","setInitialized","bgGIF","setBgGif","useEffect","navigator","geolocation","getCurrentPosition","pos","coords","latitude","longitude","resp","data","cod","message","obj","degree","parseInt","Math","ceil","main","temp","toFixed","country","sys","err","console","log","SetBG","nameLC","toLowerCase","index","random","length","Image","src","fluid","draggable","alt","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6976f3b6.chunk.js","sourcesContent":["import React from \"react\";\r\nimport store from \"../store/store\";\r\nimport {Provider} from \"react-redux\";\r\nimport {HashRouter} from \"react-router-dom\";\r\n\r\nexport const MainAppHOC = (Component: React.FC) => (props: any) => {\r\n    return (\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <Component {...props}/>\r\n            </Provider>\r\n        </HashRouter>\r\n    )\r\n};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import axios from \"axios\";\r\n\r\nconst apiKey: string = `0a494230a7296285ed456b380ec63553`;\r\n\r\nexport const API = {\r\n    GetWeatherByCity: async (city: string) => {\r\n        try {\r\n            return await axios.get(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}`);\r\n        } catch (e) {\r\n            return e;\r\n        }\r\n    },\r\n    GetWeatherByPos: async (lat: number, lon: number) => {\r\n        try {\r\n            return await axios.get(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}`);\r\n        } catch (e) {\r\n            return e;\r\n        }\r\n    }\r\n};","import {StateType, ActionType,  IWeather} from \"./weather.interfaces\";\r\nimport {API} from \"../api/weather.api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst initialState: StateType = {\r\n    weather: null,\r\n    error: null,\r\n};\r\ntype InitialState = typeof initialState;\r\n\r\nexport const weatherReducer = (state: StateType = initialState, action: ActionType): InitialState => {\r\n    switch (action.type) {\r\n        case \"SET_WEATHER\":\r\n            return {\r\n                ...state,\r\n                weather: {...action.weather}\r\n            };\r\n        case \"SET_ERROR\":\r\n            return {\r\n                ...initialState,\r\n                error: action.msg,\r\n            };\r\n        default:\r\n            return {\r\n                ...state,\r\n            }\r\n    }\r\n};\r\nexport const actions = {\r\n    setWeather: (weather: IWeather | null) => ({type: \"SET_WEATHER\", weather}),\r\n    setError: (msg: string | null) => ({type: \"SET_ERROR\", msg})\r\n};\r\n\r\nexport const SetWeather = (city: string) => async (dispatch: Dispatch<any>) => {\r\n    const resp = await API.GetWeatherByCity(city);\r\n    if (typeof resp !== \"string\" && resp.data) {\r\n        if (resp.data.cod !== 200) {\r\n            dispatch(actions.setError(resp.data.message));\r\n        } else {\r\n            const obj = {\r\n                city: resp.data.name,\r\n                degree: parseInt(Math.ceil(resp.data.main.temp - 273.15).toFixed(0)),\r\n                name: resp.data.weather[0].main,\r\n                country: resp.data.sys.country,\r\n            };\r\n            dispatch(actions.setWeather(obj));\r\n        }\r\n    } else {\r\n        dispatch(actions.setError(\"City not found\"));\r\n    }\r\n};\r\nexport const SetWeatherByPos = (lat: number, lon: number) => async (dispatch: Dispatch<any>) => {\r\n    const resp = await API.GetWeatherByPos(lat, lon);\r\n    if (typeof resp !== \"string\" && resp.data) {\r\n        if (resp.data.cod !== 200) {\r\n            dispatch(actions.setError(resp.data.message));\r\n        } else {\r\n            const obj = {\r\n                city: resp.data.name,\r\n                degree: parseInt(Math.ceil(resp.data.main.temp - 273.15).toFixed(0)),\r\n                name: resp.data.weather[0].main,\r\n                country: resp.data.sys.country,\r\n            };\r\n            dispatch(actions.setWeather(obj));\r\n        }\r\n    } else {\r\n        dispatch(actions.setError(\"Server error\"));\r\n    }\r\n};\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {weatherReducer} from \"./weather.reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    weather: weatherReducer,\r\n});\r\n\r\ntype RootReducerType = typeof reducers;\r\nexport type AppStateType = ReturnType<RootReducerType>;\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nexport default store;\r\n","export default __webpack_public_path__ + \"static/media/MorningRain.b36af12a.gif\";","export default __webpack_public_path__ + \"static/media/NightRain.31d7ca51.gif\";","export default __webpack_public_path__ + \"static/media/Rain1.f9ea0cd0.gif\";","export default __webpack_public_path__ + \"static/media/Fog.1c17f57d.gif\";","export default __webpack_public_path__ + \"static/media/Fog1.9664d045.gif\";","export default __webpack_public_path__ + \"static/media/Fog2.4858f1f2.gif\";","import morningRain from '../assets/MorningRain.gif';\r\nimport nightRain from '../assets/NightRain.gif';\r\nimport Rain from '../assets/Rain1.gif';\r\nimport Fog from '../assets/Fog.gif';\r\nimport Fog1 from '../assets/Fog1.gif';\r\nimport Fog2 from '../assets/Fog2.gif';\r\nimport Snow from '../assets/Snow.gif';\r\nimport Snow2 from '../assets/Snow2.gif';\r\nimport Snow3 from '../assets/Snow3.gif';\r\nimport Cloudy from '../assets/Cloudy.gif';\r\nimport ClearSky from '../assets/ClearSky.gif';\r\n\r\nconst fog: Array<any> = [Fog, Fog1, Fog2];\r\nconst mist: Array<any> = [Fog, Fog1, Fog2];\r\nconst rain: Array<any> = [Rain, morningRain, nightRain];\r\nconst snow: Array<any> = [Snow, Snow2, Snow3];\r\nconst clouds: Array<any> = [Cloudy];\r\nconst clear: Array<any> = [ClearSky];\r\n\r\nexport const GIFs = {\r\n    fog,\r\n    rain,\r\n    snow,\r\n    mist,\r\n    clouds,\r\n    clear\r\n};\r\n","export default __webpack_public_path__ + \"static/media/Snow.86f55958.gif\";","export default __webpack_public_path__ + \"static/media/Snow2.16abfe11.gif\";","export default __webpack_public_path__ + \"static/media/Snow3.99d4365e.gif\";","export default __webpack_public_path__ + \"static/media/Cloudy.cf326fcc.gif\";","export default __webpack_public_path__ + \"static/media/ClearSky.613bda1e.gif\";","import React, {FC} from \"react\";\r\nimport {Formik, Form, Field} from \"formik\";\r\nimport {Button} from \"react-bootstrap\";\r\n\r\ntype Props = {\r\n    submitForm: (cityName: string) => void\r\n}\r\nconst SearchForm: FC<Props> = (props: Props) => {\r\n    const submitForm = (values: any, actions: any) => {\r\n        if (!values.cityName) actions.setSubmitting(false);\r\n        props.submitForm(values.cityName);\r\n        actions.setSubmitting(false);\r\n    };\r\n    return <>\r\n        <Formik initialValues={{cityName: ''}} onSubmit={submitForm}>\r\n            {({isSubmitting}) => (\r\n                <Form className={\"mt-3 d-flex\"}>\r\n                    <Field\r\n                        name=\"cityName\"\r\n                        type={'text'}\r\n                        className={\"form-control text-primary\"}\r\n                        placeholder={\"City Name\"}\r\n                    />\r\n                    <Button className={\"ml-1 \"} type={\"submit\"} disabled={isSubmitting}>GO</Button>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    </>\r\n};\r\n\r\nexport default SearchForm;","import {AppStateType} from \"./store\";\r\n\r\nexport const getWeatherSelector = (state: AppStateType) => state.weather;\r\nexport const getWeather = (state: AppStateType) => state.weather.weather;\r\nexport const getError = (state: AppStateType) => state.weather.error;","import React, {useEffect, useState, FC} from \"react\";\r\nimport {MainAppHOC} from \"../hocs/MainAppHOC\";\r\nimport {GIFs} from '../utils/gifs';\r\nimport {Image} from \"react-bootstrap\";\r\nimport SearchForm from \"./SearchForm\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {SetWeather, SetWeatherByPos} from \"../store/weather.reducer\";\r\nimport {getError, getWeather} from \"../store/weather.selectors\";\r\n\r\nconst Main: FC = () => {\r\n    const dispatch = useDispatch();\r\n    const weather = useSelector(getWeather);\r\n    const error = useSelector(getError);\r\n    const [initialized, setInitialized] = useState(false);\r\n    const [bgGIF, setBgGif] = useState(\"\");\r\n    useEffect(() => {\r\n        if (navigator.geolocation) {\r\n            navigator.geolocation.getCurrentPosition((pos) => {\r\n                dispatch(SetWeatherByPos(pos.coords.latitude, pos.coords.longitude));\r\n            }, (err) => {\r\n                setInitialized(true);\r\n            });\r\n        } else {\r\n            setInitialized(true);\r\n            console.log(\"Your browser is not supported Geolocation\");\r\n        }\r\n        //eslint-disable-next-line\r\n    }, []);\r\n    useEffect(() => {\r\n        if (weather) {\r\n            SetBG(weather.name);\r\n            setInitialized(true);\r\n        }\r\n    }, [weather]);\r\n    const SetBG = (name: string) => {\r\n        const nameLC = name.toLowerCase();\r\n        //@ts-ignore\r\n        const index = parseInt((Math.random() * (GIFs[nameLC].length - 1)).toFixed(0));\r\n        //@ts-ignore\r\n        setBgGif(GIFs[nameLC][index]);\r\n    };\r\n    const SFSubmit = (cityName: string) => {\r\n        dispatch(SetWeather(cityName));\r\n    };\r\n\r\n    return !initialized\r\n        ? <div className={\"container d-flex justify-content-center align-items-center h-100\"}><h1>Loading...</h1></div>\r\n        : <>\r\n            <div className={'background w-100 h-100 d-flex justify-content-center'}>\r\n                {weather\r\n                    ? <Image src={bgGIF} fluid draggable={\"false\"} alt={\"image\"}/>\r\n                    : <div className={'loading bg-light'}/>\r\n                }\r\n            </div>\r\n            <div className={'container content d-flex flex-column justify-content-center align-items-center'}>\r\n                <h1 className={\"text-primary\"}>Quick Weather <i>Demo(ver 0.1)</i></h1>\r\n                <h3 className={\"text-primary\"}>Find out the weather of your city quickly</h3>\r\n                <SearchForm submitForm={SFSubmit}/>\r\n                {weather\r\n                    ? <div className={\"city d-flex flex-column justify-content-center align-items-center mt-3\"}>\r\n                        <h1 className={\"text-primary\"}>{weather.city}/{weather.country}</h1>\r\n                        <h2 className={\"text-primary\"}>{weather.name}</h2>\r\n                        <h2 className={\"text-primary\"}>{weather.degree}&deg;C\r\n                            / {((weather.degree * 9 / 5) + 32).toFixed(0)}&deg;F</h2>\r\n                    </div>\r\n                    : error\r\n                        ? <h2 className={\"text-danger mt-3\"}>{error}</h2>\r\n                        : <h2 className={\"text-danger mt-3\"}>Enter city to find out the weather</h2>\r\n                }\r\n            </div>\r\n        </>\r\n};\r\n\r\nexport default MainAppHOC(Main);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport reportWebVitals from './reportWebVitals';\nimport Main from \"./components/main\";\nimport './index.sass';\n\nReactDOM.render(<Main/>, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}